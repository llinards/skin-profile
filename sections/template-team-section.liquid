<script>
  document.addEventListener('DOMContentLoaded', function () {
    Carousel(document.getElementById('teamCarousel'), {
      fill: true,
      infinite: false,
      plugins: [window.Dots],
    }).init();
  });
</script>

<div class="container mx-auto px-4 transition-hide">
  <h2>{{ section.settings.heading }}</h2>
  <div class="py-6 md:py-12 f-carousel" id="teamCarousel">
    {% for block in section.blocks %}
      <div class="f-carousel__slide h-full rounded-4xl">
        {% if block.settings.photo %}
          <div class="overflow-hidden h-96 rounded-4xl">
            <img
              src="{{ block.settings.photo | image_url }}"
              alt="{{ block.settings.name | escape }}"
              width="1080"
              height="1920"
              loading="lazy"
              class="rounded-4xl h-96 object-top object-cover transition-transform duration-300 ease-in-out hover:scale-105"
            >
          </div>
        {% endif %}
        <div class="flex w-full px-2 justify-between">
          <div>
            <h3>{{ block.settings.name }}</h3>
            <div class="text-sm text-center md:text-left">{{ block.settings.position }}</div>
          </div>
          <div class="flex justify-end items-end mb-1">
            {% render 'icon-arrow' %}
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
</div>

{% schema %}
{
  "name": "Team Section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Virsraksts",
      "default": "Komanda"
    }
  ],
  "blocks": [
    {
      "type": "member",
      "name": "Team Member",
      "settings": [
        {
          "type": "image_picker",
          "id": "photo",
          "label": "Foto"
        },
        {
          "type": "text",
          "id": "name",
          "label": "VƒÅrds"
        },
        {
          "type": "text",
          "id": "position",
          "label": "Amats"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Komanda",
      "blocks": [
        {
          "type": "member",
          "settings": {
            "name": "Jane Doe",
            "position": "Founder"
          }
        }
      ]
    }
  ]
}
{% endschema %}
