<script>
  document.addEventListener('DOMContentLoaded', function () {
    const carousel = Carousel(document.getElementById('servicesCarousel'), {
      fill: true,
      infinite: false,
      plugins: [window.Dots],
    }).init();
  });
</script>

<div class="container mx-auto px-4 transition-hide text-center md:text-left">
  <h2>{{ section.settings.heading }}</h2>
  <div class="py-6 md:py-12 f-carousel" id="servicesCarousel">
    {% for block in section.blocks %}
      <div class="f-carousel__slide h-full rounded-4xl ">
        {% if block.settings.photo %}
          <div class="overflow-hidden h-56 rounded-3xl">
            <img
              src="{{ block.settings.photo | image_url }}"
              alt="{{ block.settings.name | escape }}"
              width="1080"
              height="1920"
              loading="lazy"
              class="rounded-4xl h-56 object-cover transition-transform duration-300 ease-in-out hover:scale-105"
            >
          </div>
        {% endif %}
      </div>
    {% endfor %}
  </div>
</div>

{% schema %}
{
  "name": "Services Section",
  "settings": [{ "type": "text", "id": "heading", "label": "Virsraksts", "default": "Pakalpojumi" }],
  "blocks": [
    {
      "type": "service",
      "name": "Service",
      "settings": [
        { "type": "image_picker", "id": "photo", "label": "AttÄ“ls" },
        { "type": "text", "id": "name", "label": "Nosaukums" }
      ]
    }
  ],
  "presets": [{ "name": "Services Section" }]
}
{% endschema %}
